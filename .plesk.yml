# Plesk deployment configuration
# Questo file viene letto automaticamente da Plesk quando fai un deploy via Git

# Script che viene eseguito dopo ogni pull da Git
post_deploy:
  - echo "ğŸš€ Avvio deployment automatico..."
  
  # Backend: installa dipendenze Python
  - echo "ğŸ“¦ Installazione dipendenze backend..."
  - cd backend && pip3 install -r requirements.txt --user
  
  # Frontend: installa dipendenze e build
  - echo "ğŸ¨ Build frontend..."
  - cd ../frontend
  - npm install
  - npm run build
  
  # Crea cartella uploads se non esiste
  - echo "ğŸ“ Preparazione cartelle..."
  - mkdir -p ../uploads
  - chmod 777 ../uploads
  
  - echo "âœ… Deployment completato!"
  - echo "ğŸ“ Frontend disponibile in: frontend/dist/"
  - echo "ğŸ”§ Ricorda di configurare il Document Root su: frontend/dist"

